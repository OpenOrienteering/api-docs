<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Mapper: UndoStep Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="openorienteering.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mapper
   &#160;<span id="projectnumber">0.6.5</span>
   </div>
   <div id="projectbrief">API documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classUndoStep-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">UndoStep Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Abstract base class for map editing undo steps.  
 <a href="classUndoStep.html#details">More...</a></p>

<p><code>#include &lt;undo.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for UndoStep:</div>
<div class="dyncontent">
<div class="center"><img src="classUndoStep__inherit__graph.png" border="0" usemap="#UndoStep_inherit__map" alt="Inheritance graph"/></div>
<map name="UndoStep_inherit__map" id="UndoStep_inherit__map">
<area shape="rect" id="node2" href="classCombinedUndoStep.html" title="An undo step which is actually a sequence of sub UndoSteps. " alt="" coords="151,5,290,32"/>
<area shape="rect" id="node3" href="classMapPartUndoStep.html" title="A map part undo step handles addition, deletion and renaming of map parts. " alt="" coords="156,56,285,83"/>
<area shape="rect" id="node4" href="classNoOpUndoStep.html" title="An undo step which does nothing. " alt="" coords="163,107,278,133"/>
<area shape="rect" id="node5" href="classObjectModifyingUndoStep.html" title="Base class for undo steps which modify objects of a single map part. " alt="" coords="133,157,308,184"/>
<area shape="rect" id="node6" href="classDeleteObjectsUndoStep.html" title="Map undo step which deletes the referenced objects. " alt="" coords="358,31,521,57"/>
<area shape="rect" id="node7" href="classObjectCreatingUndoStep.html" title="Base class for undo steps which add new objects to the map. " alt="" coords="356,81,523,108"/>
<area shape="rect" id="node10" href="classObjectTagsUndoStep.html" title="Undo step which modifies object tags. " alt="" coords="366,132,513,159"/>
<area shape="rect" id="node11" href="classSwitchDashesUndoStep.html" title="Map undo step which reverses the directions of referenced objects,. " alt="" coords="357,183,522,209"/>
<area shape="rect" id="node12" href="classSwitchPartUndoStep.html" title="Map undo step which assigns the referenced objects to another part. " alt="" coords="367,233,511,260"/>
<area shape="rect" id="node13" href="classSwitchSymbolUndoStep.html" title="Map undo step which changes the symbols of referenced objects. " alt="" coords="357,284,521,311"/>
<area shape="rect" id="node8" href="classAddObjectsUndoStep.html" title="Map undo step which adds the contained objects. " alt="" coords="583,56,731,83"/>
<area shape="rect" id="node9" href="classReplaceObjectsUndoStep.html" title="Map undo step which replaces all affected objects by another set of objects. " alt="" coords="571,107,744,133"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for UndoStep:</div>
<div class="dyncontent">
<div class="center"><img src="classUndoStep__coll__graph.png" border="0" usemap="#UndoStep_coll__map" alt="Collaboration graph"/></div>
<map name="UndoStep_coll__map" id="UndoStep_coll__map">
<area shape="rect" id="node2" href="classMap.html" title="Central class for an OpenOrienteering map. " alt="" coords="22,81,69,108"/>
<area shape="rect" id="node3" doxygen="qtcore.tags:http://doc.qt.io/qt-5/" href="http://doc.qt.io/qt-5/qobject.html" title="QObject" alt="" coords="10,5,81,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a18600ea1e7741e158962ed6923c7bd66"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66">Type</a> { <br />
&#160;&#160;<a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66a11984621d9bd567e3224ebb5e7f3cb51">ReplaceObjectsUndoStepType</a> = 0, 
<a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66a5ba4d054f510a2433c1efc80b94aa65e">DeleteObjectsUndoStepType</a> = 1, 
<a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66af0d624d15b17ebc7fd600ae6e954b50e">AddObjectsUndoStepType</a> = 2, 
<a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66ab185020abfbfcfbebd8feaa828779ff1">SwitchSymbolUndoStepType</a> = 3, 
<br />
&#160;&#160;<a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66a4c504fc91213d6fb75eee0bc349d98fc">SwitchDashesUndoStepType</a> = 4, 
<a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66a71afbee98e64349150de6ed4adc62ba1">CombinedUndoStepType</a> = 5, 
<a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66adada1c02d47e99c391b0f7479cb53f18">ValidNoOpUndoStepType</a> = 6, 
<a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66a0a6366ddbfd33539e4ea31e797875cae">ObjectTagsUndoStepType</a> = 7, 
<br />
&#160;&#160;<a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66ad7fcc976e8499fc26c42afc1fa7a793e">MapPartUndoStepType</a> = 8, 
<a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66a6b7c8ecd716ad34cf264fb23025a33f7">SwitchPartUndoStepType</a> = 9, 
<a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66a3a2a214ae85e5e73111029ddcdb69400">InvalidUndoStepType</a> = 999
<br />
 }<tr class="memdesc:a18600ea1e7741e158962ed6923c7bd66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Types of undo steps for identification.  <a href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a18600ea1e7741e158962ed6923c7bd66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66305c2db3e0afc7b6cb8bf2e743573"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="test_2data_2CMakeLists_8txt.html#aedbdfbec65701f3a492be353ac1f83cb">std::set</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#aa66305c2db3e0afc7b6cb8bf2e743573">PartSet</a></td></tr>
<tr class="memdesc:aa66305c2db3e0afc7b6cb8bf2e743573"><td class="mdescLeft">&#160;</td><td class="mdescRight">A set of integers refering to parts.  <a href="#aa66305c2db3e0afc7b6cb8bf2e743573">More...</a><br /></td></tr>
<tr class="separator:aa66305c2db3e0afc7b6cb8bf2e743573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e136766f5069335853b2967394845d0"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="test_2data_2CMakeLists_8txt.html#aedbdfbec65701f3a492be353ac1f83cb">std::set</a>&lt; <a class="el" href="classObject.html">Object</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#a2e136766f5069335853b2967394845d0">ObjectSet</a></td></tr>
<tr class="memdesc:a2e136766f5069335853b2967394845d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">A set of pointers to objects.  <a href="#a2e136766f5069335853b2967394845d0">More...</a><br /></td></tr>
<tr class="separator:a2e136766f5069335853b2967394845d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a04d2c1b55b5c82ddf9b263845dde81b2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#a04d2c1b55b5c82ddf9b263845dde81b2">UndoStep</a> (<a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66">Type</a> <a class="el" href="classUndoStep.html#a0187b3687a63c29fd72443784545ab7b">type</a>, <a class="el" href="classMap.html">Map</a> *<a class="el" href="classUndoStep.html#a90e582e3e0cbcd0334d7a9f9c11aead9">map</a>)</td></tr>
<tr class="memdesc:a04d2c1b55b5c82ddf9b263845dde81b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an undo step having the given type.  <a href="#a04d2c1b55b5c82ddf9b263845dde81b2">More...</a><br /></td></tr>
<tr class="separator:a04d2c1b55b5c82ddf9b263845dde81b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ccf6f00589b5bcff49a38e3bdb32e65"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#a0ccf6f00589b5bcff49a38e3bdb32e65">~UndoStep</a> ()</td></tr>
<tr class="memdesc:a0ccf6f00589b5bcff49a38e3bdb32e65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a0ccf6f00589b5bcff49a38e3bdb32e65">More...</a><br /></td></tr>
<tr class="separator:a0ccf6f00589b5bcff49a38e3bdb32e65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c7b908f576ca5f9ff524a0141f87c92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66">Type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#a2c7b908f576ca5f9ff524a0141f87c92">getType</a> () const </td></tr>
<tr class="memdesc:a2c7b908f576ca5f9ff524a0141f87c92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the type of the undo step.  <a href="#a2c7b908f576ca5f9ff524a0141f87c92">More...</a><br /></td></tr>
<tr class="separator:a2c7b908f576ca5f9ff524a0141f87c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d0e842ce4436da6ca872dfc206fcc7"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#a25d0e842ce4436da6ca872dfc206fcc7">isValid</a> () const </td></tr>
<tr class="memdesc:a25d0e842ce4436da6ca872dfc206fcc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the step can still be undone.  <a href="#a25d0e842ce4436da6ca872dfc206fcc7">More...</a><br /></td></tr>
<tr class="separator:a25d0e842ce4436da6ca872dfc206fcc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e26f70130bc0863e6bde49c4e8a83b5"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classUndoStep.html">UndoStep</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#a6e26f70130bc0863e6bde49c4e8a83b5">undo</a> ()=0</td></tr>
<tr class="memdesc:a6e26f70130bc0863e6bde49c4e8a83b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Undoes the action and returns a new <a class="el" href="classUndoStep.html" title="Abstract base class for map editing undo steps. ">UndoStep</a>.  <a href="#a6e26f70130bc0863e6bde49c4e8a83b5">More...</a><br /></td></tr>
<tr class="separator:a6e26f70130bc0863e6bde49c4e8a83b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeecaf230c0ca3289dbc76d2df3552b5a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#aeecaf230c0ca3289dbc76d2df3552b5a">getModifiedParts</a> (<a class="el" href="classUndoStep.html#aa66305c2db3e0afc7b6cb8bf2e743573">PartSet</a> &amp;out) const </td></tr>
<tr class="memdesc:aeecaf230c0ca3289dbc76d2df3552b5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the list of the step's modified parts to the container provided by out.  <a href="#aeecaf230c0ca3289dbc76d2df3552b5a">More...</a><br /></td></tr>
<tr class="separator:aeecaf230c0ca3289dbc76d2df3552b5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c3b06678d1a61ee31a86f62b8b800ba"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#a5c3b06678d1a61ee31a86f62b8b800ba">getModifiedObjects</a> (int part_index, <a class="el" href="classUndoStep.html#a2e136766f5069335853b2967394845d0">ObjectSet</a> &amp;out) const </td></tr>
<tr class="memdesc:a5c3b06678d1a61ee31a86f62b8b800ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the list of the step's modified objects to the container provided by out.  <a href="#a5c3b06678d1a61ee31a86f62b8b800ba">More...</a><br /></td></tr>
<tr class="separator:a5c3b06678d1a61ee31a86f62b8b800ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a797246d1045f411867300701aede91af"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#a797246d1045f411867300701aede91af">load</a> (<a class="elRef" doxygen="qtcore.tags:http://doc.qt.io/qt-5/" href="http://doc.qt.io/qt-5/qiodevice.html">QIODevice</a> *file, int version)=0</td></tr>
<tr class="memdesc:a797246d1045f411867300701aede91af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the undo step from the file in the old "native" format.  <a href="#a797246d1045f411867300701aede91af">More...</a><br /></td></tr>
<tr class="separator:a797246d1045f411867300701aede91af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c267f11c6b773d5a3c4425dc1061e12"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#a4c267f11c6b773d5a3c4425dc1061e12">save</a> (<a class="elRef" doxygen="qtcore.tags:http://doc.qt.io/qt-5/" href="http://doc.qt.io/qt-5/qxmlstreamwriter.html">QXmlStreamWriter</a> &amp;xml)</td></tr>
<tr class="memdesc:a4c267f11c6b773d5a3c4425dc1061e12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the undo step to the stream in xml format.  <a href="#a4c267f11c6b773d5a3c4425dc1061e12">More...</a><br /></td></tr>
<tr class="separator:a4c267f11c6b773d5a3c4425dc1061e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a736dd762b25b580fcf9de60bbbd835da"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classUndoStep.html">UndoStep</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#a736dd762b25b580fcf9de60bbbd835da">getUndoStepForType</a> (<a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66">Type</a> <a class="el" href="classUndoStep.html#a0187b3687a63c29fd72443784545ab7b">type</a>, <a class="el" href="classMap.html">Map</a> *<a class="el" href="classUndoStep.html#a90e582e3e0cbcd0334d7a9f9c11aead9">map</a>)</td></tr>
<tr class="memdesc:a736dd762b25b580fcf9de60bbbd835da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an undo step of the given type.  <a href="#a736dd762b25b580fcf9de60bbbd835da">More...</a><br /></td></tr>
<tr class="separator:a736dd762b25b580fcf9de60bbbd835da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0fa63df70f74ea9d161e6ac69dfa6ef"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classUndoStep.html">UndoStep</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#af0fa63df70f74ea9d161e6ac69dfa6ef">load</a> (<a class="elRef" doxygen="qtcore.tags:http://doc.qt.io/qt-5/" href="http://doc.qt.io/qt-5/qxmlstreamreader.html">QXmlStreamReader</a> &amp;xml, <a class="el" href="classMap.html">Map</a> *<a class="el" href="classUndoStep.html#a90e582e3e0cbcd0334d7a9f9c11aead9">map</a>, <a class="el" href="map__part_8h.html#a399a8a7116cffc8d49caccfc501704f2">SymbolDictionary</a> &amp;symbol_dict)</td></tr>
<tr class="memdesc:af0fa63df70f74ea9d161e6ac69dfa6ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the undo step from the stream in xml format.  <a href="#af0fa63df70f74ea9d161e6ac69dfa6ef">More...</a><br /></td></tr>
<tr class="separator:af0fa63df70f74ea9d161e6ac69dfa6ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1b590e02f700482636963bdf32efcfa5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#a1b590e02f700482636963bdf32efcfa5">saveImpl</a> (<a class="elRef" doxygen="qtcore.tags:http://doc.qt.io/qt-5/" href="http://doc.qt.io/qt-5/qxmlstreamwriter.html">QXmlStreamWriter</a> &amp;xml) const </td></tr>
<tr class="memdesc:a1b590e02f700482636963bdf32efcfa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves undo properties to the the xml stream.  <a href="#a1b590e02f700482636963bdf32efcfa5">More...</a><br /></td></tr>
<tr class="separator:a1b590e02f700482636963bdf32efcfa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e49cad856da0a927bfa0c8a53e5b90b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#a8e49cad856da0a927bfa0c8a53e5b90b">loadImpl</a> (<a class="elRef" doxygen="qtcore.tags:http://doc.qt.io/qt-5/" href="http://doc.qt.io/qt-5/qxmlstreamreader.html">QXmlStreamReader</a> &amp;xml, <a class="el" href="map__part_8h.html#a399a8a7116cffc8d49caccfc501704f2">SymbolDictionary</a> &amp;symbol_dict)</td></tr>
<tr class="memdesc:a8e49cad856da0a927bfa0c8a53e5b90b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads undo properties from the the xml stream.  <a href="#a8e49cad856da0a927bfa0c8a53e5b90b">More...</a><br /></td></tr>
<tr class="separator:a8e49cad856da0a927bfa0c8a53e5b90b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a0187b3687a63c29fd72443784545ab7b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66">Type</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#a0187b3687a63c29fd72443784545ab7b">type</a></td></tr>
<tr class="memdesc:a0187b3687a63c29fd72443784545ab7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of the undo step.  <a href="#a0187b3687a63c29fd72443784545ab7b">More...</a><br /></td></tr>
<tr class="separator:a0187b3687a63c29fd72443784545ab7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e582e3e0cbcd0334d7a9f9c11aead9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMap.html">Map</a> *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUndoStep.html#a90e582e3e0cbcd0334d7a9f9c11aead9">map</a></td></tr>
<tr class="memdesc:a90e582e3e0cbcd0334d7a9f9c11aead9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The map this undo step belongs.  <a href="#a90e582e3e0cbcd0334d7a9f9c11aead9">More...</a><br /></td></tr>
<tr class="separator:a90e582e3e0cbcd0334d7a9f9c11aead9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Abstract base class for map editing undo steps. </p>
<p><a class="el" href="classUndoStep.html" title="Abstract base class for map editing undo steps. ">UndoStep</a> stores information which is necessary for executing an undo step. While executing the step, creates a new <a class="el" href="classUndoStep.html" title="Abstract base class for map editing undo steps. ">UndoStep</a> for the corresponding redo step.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classUndoManager.html" title="Manages the history of steps for undoing and redoing changes to a map. ">UndoManager</a> </dd></dl>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a2e136766f5069335853b2967394845d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="test_2data_2CMakeLists_8txt.html#aedbdfbec65701f3a492be353ac1f83cb">std::set</a>&lt;<a class="el" href="classObject.html">Object</a>*&gt; <a class="el" href="classUndoStep.html#a2e136766f5069335853b2967394845d0">UndoStep::ObjectSet</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A set of pointers to objects. </p>

</div>
</div>
<a class="anchor" id="aa66305c2db3e0afc7b6cb8bf2e743573"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="test_2data_2CMakeLists_8txt.html#aedbdfbec65701f3a492be353ac1f83cb">std::set</a>&lt;int&gt; <a class="el" href="classUndoStep.html#aa66305c2db3e0afc7b6cb8bf2e743573">UndoStep::PartSet</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A set of integers refering to parts. </p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a18600ea1e7741e158962ed6923c7bd66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66">UndoStep::Type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Types of undo steps for identification. </p>
<p>This is used by the file formats - do not change existing values. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a18600ea1e7741e158962ed6923c7bd66a11984621d9bd567e3224ebb5e7f3cb51"></a>ReplaceObjectsUndoStepType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a18600ea1e7741e158962ed6923c7bd66a5ba4d054f510a2433c1efc80b94aa65e"></a>DeleteObjectsUndoStepType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a18600ea1e7741e158962ed6923c7bd66af0d624d15b17ebc7fd600ae6e954b50e"></a>AddObjectsUndoStepType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a18600ea1e7741e158962ed6923c7bd66ab185020abfbfcfbebd8feaa828779ff1"></a>SwitchSymbolUndoStepType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a18600ea1e7741e158962ed6923c7bd66a4c504fc91213d6fb75eee0bc349d98fc"></a>SwitchDashesUndoStepType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a18600ea1e7741e158962ed6923c7bd66a71afbee98e64349150de6ed4adc62ba1"></a>CombinedUndoStepType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a18600ea1e7741e158962ed6923c7bd66adada1c02d47e99c391b0f7479cb53f18"></a>ValidNoOpUndoStepType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a18600ea1e7741e158962ed6923c7bd66a0a6366ddbfd33539e4ea31e797875cae"></a>ObjectTagsUndoStepType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a18600ea1e7741e158962ed6923c7bd66ad7fcc976e8499fc26c42afc1fa7a793e"></a>MapPartUndoStepType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a18600ea1e7741e158962ed6923c7bd66a6b7c8ecd716ad34cf264fb23025a33f7"></a>SwitchPartUndoStepType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a18600ea1e7741e158962ed6923c7bd66a3a2a214ae85e5e73111029ddcdb69400"></a>InvalidUndoStepType&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a04d2c1b55b5c82ddf9b263845dde81b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UndoStep::UndoStep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66">Type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMap.html">Map</a> *&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs an undo step having the given type. </p>

</div>
</div>
<a class="anchor" id="a0ccf6f00589b5bcff49a38e3bdb32e65"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">UndoStep::~UndoStep </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5c3b06678d1a61ee31a86f62b8b800ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UndoStep::getModifiedObjects </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>part_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classUndoStep.html#a2e136766f5069335853b2967394845d0">ObjectSet</a> &amp;&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the list of the step's modified objects to the container provided by out. </p>
<p>Only objects which belong to the given part are dealt with.</p>
<p>The default implementation does nothing. </p>

<p>Reimplemented in <a class="el" href="classDeleteObjectsUndoStep.html#ab4bc5044b81232632b6a51ee2a91a6f2">DeleteObjectsUndoStep</a>, <a class="el" href="classCombinedUndoStep.html#a56821c28a0e778348026078d0d6cea09">CombinedUndoStep</a>, <a class="el" href="classObjectCreatingUndoStep.html#aa40376559c240226ee07d50abac9db29">ObjectCreatingUndoStep</a>, <a class="el" href="classObjectModifyingUndoStep.html#a9401a23fb639fb62454ff08f11d1d9e2">ObjectModifyingUndoStep</a>, and <a class="el" href="classMapPartUndoStep.html#adf691e0b0bff761de5a93ef6e4695f29">MapPartUndoStep</a>.</p>

</div>
</div>
<a class="anchor" id="aeecaf230c0ca3289dbc76d2df3552b5a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a> UndoStep::getModifiedParts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUndoStep.html#aa66305c2db3e0afc7b6cb8bf2e743573">PartSet</a> &amp;&#160;</td>
          <td class="paramname"><em>out</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the list of the step's modified parts to the container provided by out. </p>
<p>The default implementation does nothing and returns false.</p>
<dl class="section return"><dt>Returns</dt><dd>True if there are parts (and objects!) modified by this undo step, false otherwise. </dd></dl>

<p>Reimplemented in <a class="el" href="classDeleteObjectsUndoStep.html#a42ba0bb6ede352ef0daf6ed05fdb30db">DeleteObjectsUndoStep</a>, <a class="el" href="classCombinedUndoStep.html#a2f204341747598d765d87de59f6836c7">CombinedUndoStep</a>, <a class="el" href="classObjectModifyingUndoStep.html#ad4f52ba16fdf28d1a1a36f10cf1b9823">ObjectModifyingUndoStep</a>, and <a class="el" href="classMapPartUndoStep.html#a3647d4769c9b982b739190f1eee2f35b">MapPartUndoStep</a>.</p>

</div>
</div>
<a class="anchor" id="a2c7b908f576ca5f9ff524a0141f87c92"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66">UndoStep::Type</a> UndoStep::getType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the type of the undo step. </p>

</div>
</div>
<a class="anchor" id="a736dd762b25b580fcf9de60bbbd835da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classUndoStep.html">UndoStep</a> * UndoStep::getUndoStepForType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66">Type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMap.html">Map</a> *&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs an undo step of the given type. </p>

</div>
</div>
<a class="anchor" id="a25d0e842ce4436da6ca872dfc206fcc7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a> UndoStep::isValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the step can still be undone. </p>
<p>Initially (after generating the step) this must return true. (However, this is different for InvalidUndoStep.)</p>
<p>Derived classes may return false to indicate that the step is no longer valid. This may happen after an object the step depends on, which is not tracked by the undo system, is deleted.</p>
<p>Example: changing a map object's symbol to a different one, then deleting the first symbol. Then changing the symbol cannot be undone as the old symbol does not exist anymore. </p>

<p>Reimplemented in <a class="el" href="classSwitchSymbolUndoStep.html#ac59b605b306c658b5d0a824e4a7528df">SwitchSymbolUndoStep</a>, <a class="el" href="classNoOpUndoStep.html#aa689b61c25bc043492e006e352d5b9b1">NoOpUndoStep</a>, <a class="el" href="classCombinedUndoStep.html#af77f3f557a78efa3119e1c79baa66b4d">CombinedUndoStep</a>, <a class="el" href="classObjectCreatingUndoStep.html#acc58aece0f622394095ffb57016eed27">ObjectCreatingUndoStep</a>, and <a class="el" href="classMapPartUndoStep.html#a6ce3ca3dd5fb238f3c780c5c15009050">MapPartUndoStep</a>.</p>

</div>
</div>
<a class="anchor" id="a797246d1045f411867300701aede91af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a> UndoStep::load </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="qtcore.tags:http://doc.qt.io/qt-5/" href="http://doc.qt.io/qt-5/qiodevice.html">QIODevice</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads the undo step from the file in the old "native" format. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000012">Deprecated:</a></b></dt><dd>Old file format. </dd></dl>

<p>Implemented in <a class="el" href="classSwitchSymbolUndoStep.html#a25cd8409644d1912b24a7a1e9cb65da1">SwitchSymbolUndoStep</a>, <a class="el" href="classSwitchPartUndoStep.html#afcdfa6d8f4a50b4be219ab4c45ab51e3">SwitchPartUndoStep</a>, <a class="el" href="classNoOpUndoStep.html#a9eaebee579d01f148f6d1b3da6800bf5">NoOpUndoStep</a>, <a class="el" href="classCombinedUndoStep.html#a5490c2112a906d27718fe9a5d83bfcdb">CombinedUndoStep</a>, <a class="el" href="classObjectCreatingUndoStep.html#a4848740ec90421eb49b9cdb774a9619c">ObjectCreatingUndoStep</a>, <a class="el" href="classObjectModifyingUndoStep.html#acbca997ff3f5799bc735596195b8ee08">ObjectModifyingUndoStep</a>, and <a class="el" href="classMapPartUndoStep.html#a9af21e7776f410beb68e10a10168364c">MapPartUndoStep</a>.</p>

</div>
</div>
<a class="anchor" id="af0fa63df70f74ea9d161e6ac69dfa6ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classUndoStep.html">UndoStep</a> * UndoStep::load </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="qtcore.tags:http://doc.qt.io/qt-5/" href="http://doc.qt.io/qt-5/qxmlstreamreader.html">QXmlStreamReader</a> &amp;&#160;</td>
          <td class="paramname"><em>xml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMap.html">Map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="map__part_8h.html#a399a8a7116cffc8d49caccfc501704f2">SymbolDictionary</a> &amp;&#160;</td>
          <td class="paramname"><em>symbol_dict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads the undo step from the stream in xml format. </p>

</div>
</div>
<a class="anchor" id="a8e49cad856da0a927bfa0c8a53e5b90b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UndoStep::loadImpl </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="qtcore.tags:http://doc.qt.io/qt-5/" href="http://doc.qt.io/qt-5/qxmlstreamreader.html">QXmlStreamReader</a> &amp;&#160;</td>
          <td class="paramname"><em>xml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="map__part_8h.html#a399a8a7116cffc8d49caccfc501704f2">SymbolDictionary</a> &amp;&#160;</td>
          <td class="paramname"><em>symbol_dict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads undo properties from the the xml stream. </p>
<p>Implementations in derived classes shall first check the element's name for one of their own elements, and otherwise call the parent class' implementation. </p>

<p>Reimplemented in <a class="el" href="classObjectTagsUndoStep.html#aea0b5a3a151bef4253bfbf0bba4d487a">ObjectTagsUndoStep</a>, <a class="el" href="classSwitchSymbolUndoStep.html#a0aa4899a88629da54b1fdb0da1af446a">SwitchSymbolUndoStep</a>, <a class="el" href="classSwitchPartUndoStep.html#a75f98c2602d700037b109ee2af0821f2">SwitchPartUndoStep</a>, <a class="el" href="classCombinedUndoStep.html#a68a27a2b4047be89be4c45ad20868daa">CombinedUndoStep</a>, <a class="el" href="classObjectCreatingUndoStep.html#a213dcca84f673f9f56fa15bd8aef1bef">ObjectCreatingUndoStep</a>, <a class="el" href="classObjectModifyingUndoStep.html#a84e442a2fc8a20398a95d9e419297012">ObjectModifyingUndoStep</a>, and <a class="el" href="classMapPartUndoStep.html#a2aaf51dab92dc9045d7487b453501d75">MapPartUndoStep</a>.</p>

</div>
</div>
<a class="anchor" id="a4c267f11c6b773d5a3c4425dc1061e12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UndoStep::save </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="qtcore.tags:http://doc.qt.io/qt-5/" href="http://doc.qt.io/qt-5/qxmlstreamwriter.html">QXmlStreamWriter</a> &amp;&#160;</td>
          <td class="paramname"><em>xml</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the undo step to the stream in xml format. </p>
<p>This method is not to be overwritten.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classUndoStep.html#a1b590e02f700482636963bdf32efcfa5" title="Saves undo properties to the the xml stream. ">saveImpl()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1b590e02f700482636963bdf32efcfa5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UndoStep::saveImpl </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="qtcore.tags:http://doc.qt.io/qt-5/" href="http://doc.qt.io/qt-5/qxmlstreamwriter.html">QXmlStreamWriter</a> &amp;&#160;</td>
          <td class="paramname"><em>xml</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Saves undo properties to the the xml stream. </p>
<p>Implementations in derived classes shall first call the parent class' implementation, and then start a new element for additional properties. </p>

<p>Reimplemented in <a class="el" href="classObjectTagsUndoStep.html#aceec01161c45ee5cb959493460378bf6">ObjectTagsUndoStep</a>, <a class="el" href="classSwitchSymbolUndoStep.html#a3d8d2cc17bedbcce5f0c1bc8e6996e66">SwitchSymbolUndoStep</a>, <a class="el" href="classSwitchPartUndoStep.html#ad9953eba36e284a3d344dc701e0f99de">SwitchPartUndoStep</a>, <a class="el" href="classCombinedUndoStep.html#a3aa5b3d586cb7c5dec87503997d91fb7">CombinedUndoStep</a>, <a class="el" href="classObjectCreatingUndoStep.html#a6e9bdbcb7f990d9462f96bc1ab0d4b1e">ObjectCreatingUndoStep</a>, <a class="el" href="classObjectModifyingUndoStep.html#a9bb45466769ec909e65576991bba7901">ObjectModifyingUndoStep</a>, and <a class="el" href="classMapPartUndoStep.html#ab58475958319abc9f39324ca640b608a">MapPartUndoStep</a>.</p>

</div>
</div>
<a class="anchor" id="a6e26f70130bc0863e6bde49c4e8a83b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classUndoStep.html">UndoStep</a>* UndoStep::undo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Undoes the action and returns a new <a class="el" href="classUndoStep.html" title="Abstract base class for map editing undo steps. ">UndoStep</a>. </p>
<p>The returned <a class="el" href="classUndoStep.html" title="Abstract base class for map editing undo steps. ">UndoStep</a> can redo the action again. </p>

<p>Implemented in <a class="el" href="classObjectTagsUndoStep.html#a157397728f7c048e1968013f11fff778">ObjectTagsUndoStep</a>, <a class="el" href="classSwitchDashesUndoStep.html#af8ef9d97f3ac59738db4fa850571e460">SwitchDashesUndoStep</a>, <a class="el" href="classSwitchSymbolUndoStep.html#aa415a0e5083881304597be3aa1c34d88">SwitchSymbolUndoStep</a>, <a class="el" href="classSwitchPartUndoStep.html#a49c69479c777cb87d13668a5d3dd509e">SwitchPartUndoStep</a>, <a class="el" href="classNoOpUndoStep.html#a6e0710cd4dcc5180ad3f8ef62f3dff97">NoOpUndoStep</a>, <a class="el" href="classAddObjectsUndoStep.html#ae71e24450a726c80d214661a900d760c">AddObjectsUndoStep</a>, <a class="el" href="classDeleteObjectsUndoStep.html#a0f76d8f63e695797f5674d0e2caf88ee">DeleteObjectsUndoStep</a>, <a class="el" href="classReplaceObjectsUndoStep.html#a42d5c89acaa23fc293473ceadf5a2c42">ReplaceObjectsUndoStep</a>, <a class="el" href="classCombinedUndoStep.html#a915f5bfb4ebc03268df0e7457bdf3a15">CombinedUndoStep</a>, and <a class="el" href="classMapPartUndoStep.html#a23e2e0077a358d1c99915bf8e4eda3b9">MapPartUndoStep</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a90e582e3e0cbcd0334d7a9f9c11aead9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMap.html">Map</a>* const UndoStep::map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The map this undo step belongs. </p>

</div>
</div>
<a class="anchor" id="a0187b3687a63c29fd72443784545ab7b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classUndoStep.html#a18600ea1e7741e158962ed6923c7bd66">Type</a> const UndoStep::type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The type of the undo step. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="undo_8h.html">undo.h</a> (<a href="https://github.com/OpenOrienteering/mapper/blob/0f981b3/src/undo.h"><tt>0f981b3</tt></a> on 15 Dec 2014)</li>
<li>src/<a class="el" href="undo_8cpp.html">undo.cpp</a> (<a href="https://github.com/OpenOrienteering/mapper/blob/f7b0478/src/undo.cpp"><tt>f7b0478</tt></a> on 10 Apr 2016)</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
