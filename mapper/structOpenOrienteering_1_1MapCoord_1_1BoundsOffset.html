<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mapper: OpenOrienteering::MapCoord::BoundsOffset Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="openorienteering.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mapper
   &#160;<span id="projectnumber">0.9.0</span>
   </div>
   <div id="projectbrief">API documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceOpenOrienteering.html">OpenOrienteering</a></li><li class="navelem"><a class="el" href="classOpenOrienteering_1_1MapCoord.html">MapCoord</a></li><li class="navelem"><a class="el" href="structOpenOrienteering_1_1MapCoord_1_1BoundsOffset.html">BoundsOffset</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structOpenOrienteering_1_1MapCoord_1_1BoundsOffset-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OpenOrienteering::MapCoord::BoundsOffset Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Offset and flag for importing and moving out-of-bounds MapCoords.  
 <a href="structOpenOrienteering_1_1MapCoord_1_1BoundsOffset.html#details">More...</a></p>

<p><code>#include &lt;map_coord.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a80fbf896149921100f826f1f3f50419c"><td class="memItemLeft" align="right" valign="top">constexpr <a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpenOrienteering_1_1MapCoord_1_1BoundsOffset.html#a80fbf896149921100f826f1f3f50419c">isZero</a> () const</td></tr>
<tr class="memdesc:a80fbf896149921100f826f1f3f50419c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if both x and y are equal to zero.  <a href="#a80fbf896149921100f826f1f3f50419c">More...</a><br /></td></tr>
<tr class="separator:a80fbf896149921100f826f1f3f50419c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8187ed718ed7ea27a73b7db099937df7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpenOrienteering_1_1MapCoord_1_1BoundsOffset.html#a8187ed718ed7ea27a73b7db099937df7">reset</a> (<a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a> <a class="el" href="structOpenOrienteering_1_1MapCoord_1_1BoundsOffset.html#a01cf7486179777209cdce3de5263902b">check_for_offset</a>)</td></tr>
<tr class="memdesc:a8187ed718ed7ea27a73b7db099937df7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets x and y to zero, and sets check_for_offset.  <a href="#a8187ed718ed7ea27a73b7db099937df7">More...</a><br /></td></tr>
<tr class="separator:a8187ed718ed7ea27a73b7db099937df7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a6783c91d340b6e9687fd185942f33416"><td class="memItemLeft" align="right" valign="top">qint64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpenOrienteering_1_1MapCoord_1_1BoundsOffset.html#a6783c91d340b6e9687fd185942f33416">x</a> = 0</td></tr>
<tr class="separator:a6783c91d340b6e9687fd185942f33416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad694419586020944bbb43f321a101290"><td class="memItemLeft" align="right" valign="top">qint64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpenOrienteering_1_1MapCoord_1_1BoundsOffset.html#ad694419586020944bbb43f321a101290">y</a> = 0</td></tr>
<tr class="separator:ad694419586020944bbb43f321a101290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01cf7486179777209cdce3de5263902b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpenOrienteering_1_1MapCoord_1_1BoundsOffset.html#a01cf7486179777209cdce3de5263902b">check_for_offset</a> = false</td></tr>
<tr class="separator:a01cf7486179777209cdce3de5263902b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Offset and flag for importing and moving out-of-bounds MapCoords. </p>
<p>Since reducing <a class="el" href="classOpenOrienteering_1_1MapCoord.html" title="Coordinates of a point in a map, with optional flags. ">MapCoord</a> bits from 60 (64 minus flags) to 32, we need to deal with old files possibly having out-of-bounds coordinates.</p>
<p>In addition, we need to deal with files suffering from out-of-print range coordinates (issue #513). In the print dialog, the printable area is up to 1000 m of paper [!] wide and high. The top left point is allowed to be up 1000 m away from the origin in each direction. Every point to be printed (from the UI) must be within this area.</p>
<p>The idea for correcting maps during loading (where we may hit the out-of-bounds coordinates for the first time) is to look at the first point in the map (the georeferencing reference point or the coordinates of the first object). If this point is more than 500 m of paper [!] from the origin, it is moved to the origin, and the same offset is applied to all other coordinates. After that adjustment, anything up to 1000 m of paper away from the first point will be in the printable area.</p>
<p>The current implementation uses a global variable and thus can handle only one file at the same time. However, the global variables is initially configured to a neutral value. Any code activating the tracking of out-of-bounds coordinates it responsible to rollback this neutral configuration when finished.</p>
<p>Since symbol definitions are stored in MapCoords, too, extra care needs to be taken not to adjust coordinates of the symbols' elements.</p>
<dl class="section see"><dt>See also</dt><dd>XMLFileImporter::import </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a80fbf896149921100f826f1f3f50419c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80fbf896149921100f826f1f3f50419c">&#9670;&nbsp;</a></span>isZero()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a> OpenOrienteering::MapCoord::BoundsOffset::isZero </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if both x and y are equal to zero. </p>

</div>
</div>
<a id="a8187ed718ed7ea27a73b7db099937df7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8187ed718ed7ea27a73b7db099937df7">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OpenOrienteering::MapCoord::BoundsOffset::reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a>&#160;</td>
          <td class="paramname"><em>check_for_offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets x and y to zero, and sets check_for_offset. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a01cf7486179777209cdce3de5263902b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01cf7486179777209cdce3de5263902b">&#9670;&nbsp;</a></span>check_for_offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a> OpenOrienteering::MapCoord::BoundsOffset::check_for_offset = false</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6783c91d340b6e9687fd185942f33416"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6783c91d340b6e9687fd185942f33416">&#9670;&nbsp;</a></span>x</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qint64 OpenOrienteering::MapCoord::BoundsOffset::x = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad694419586020944bbb43f321a101290"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad694419586020944bbb43f321a101290">&#9670;&nbsp;</a></span>y</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qint64 OpenOrienteering::MapCoord::BoundsOffset::y = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/core/<a class="el" href="map__coord_8h.html">map_coord.h</a> (<a href="https://github.com/OpenOrienteering/mapper/blob/06b8179/src/core/map_coord.h"><tt>06b8179</tt></a> on 15 Sep 2019)</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
