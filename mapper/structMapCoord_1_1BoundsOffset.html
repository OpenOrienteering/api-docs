<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Mapper: MapCoord::BoundsOffset Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="openorienteering.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Mapper
   &#160;<span id="projectnumber">0.6.0</span>
   </div>
   <div id="projectbrief">API documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="classMapCoord.html">MapCoord</a></li><li class="navelem"><a class="el" href="structMapCoord_1_1BoundsOffset.html">BoundsOffset</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structMapCoord_1_1BoundsOffset-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MapCoord::BoundsOffset Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Offset and flag for importing and moving out-of-bounds MapCoords.  
 <a href="structMapCoord_1_1BoundsOffset.html#details">More...</a></p>

<p><code>#include &lt;map_coord.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab6cb1c78b2970dd077b962b5cd7cde73"><td class="memItemLeft" align="right" valign="top">constexpr <a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMapCoord_1_1BoundsOffset.html#ab6cb1c78b2970dd077b962b5cd7cde73">isZero</a> () const </td></tr>
<tr class="memdesc:ab6cb1c78b2970dd077b962b5cd7cde73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if both x and y are equal to zero.  <a href="#ab6cb1c78b2970dd077b962b5cd7cde73">More...</a><br/></td></tr>
<tr class="separator:ab6cb1c78b2970dd077b962b5cd7cde73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde4538406ee7bf285b01aa5469933a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMapCoord_1_1BoundsOffset.html#afde4538406ee7bf285b01aa5469933a0">reset</a> (<a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a> <a class="el" href="structMapCoord_1_1BoundsOffset.html#ab5e7e7d0d08828577f6fad567440665a">check_for_offset</a>)</td></tr>
<tr class="memdesc:afde4538406ee7bf285b01aa5469933a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets x and y to zero, and sets check_for_offset.  <a href="#afde4538406ee7bf285b01aa5469933a0">More...</a><br/></td></tr>
<tr class="separator:afde4538406ee7bf285b01aa5469933a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a0bfd9a2946f40bad3331af780fcb8e81"><td class="memItemLeft" align="right" valign="top">qint64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMapCoord_1_1BoundsOffset.html#a0bfd9a2946f40bad3331af780fcb8e81">x</a> = 0</td></tr>
<tr class="separator:a0bfd9a2946f40bad3331af780fcb8e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01706e156cb4198d8e6bee38033011e9"><td class="memItemLeft" align="right" valign="top">qint64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMapCoord_1_1BoundsOffset.html#a01706e156cb4198d8e6bee38033011e9">y</a> = 0</td></tr>
<tr class="separator:a01706e156cb4198d8e6bee38033011e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5e7e7d0d08828577f6fad567440665a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMapCoord_1_1BoundsOffset.html#ab5e7e7d0d08828577f6fad567440665a">check_for_offset</a> = false</td></tr>
<tr class="separator:ab5e7e7d0d08828577f6fad567440665a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Offset and flag for importing and moving out-of-bounds MapCoords. </p>
<p>Since reducing <a class="el" href="classMapCoord.html" title="Coordinates of a point in a map, with optional flags. ">MapCoord</a> bits from 60 (64 minus flags) to 32, we need to deal with old files possibly having out-of-bounds coordinates.</p>
<p>In addition, we need to deal with files suffering from out-of-print range coordinates (issue #513). In the print dialog, the printable area is up to 1000 m of paper [!] wide and high. The top left point is allowed to be up 1000 m away from the origin in each direction. Every point to be printed (from the UI) must be within this area.</p>
<p>The idea for correcting maps during loading (where we may hit the out-of-bounds coordinates for the first time) is to look at the first point in the map (the georeferencing reference point or the coordinates of the first object). If this point is more than 500 m of paper [!] from the origin, it is moved to the origin, and the same offset is applied to all other coordinates. After that adjustment, anything up to 1000 m of paper away from the first point will be in the printable area.</p>
<p>The current implementation uses a global variable and thus can handle only one file at the same time. However, the global variables is initially configured to a neutral value. Any code activating the tracking of out-of-bounds coordinates it responsible to rollback this neutral configuration when finished.</p>
<p>Since symbol definitions are stored in MapCoords, too, extra care needs to be taken not to adjust coordinates of the symbols' elements.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classXMLFileImporter.html#aa71a2b17cb06da375814248dbef95689" title="Implementation of doImport(). ">XMLFileImporter::import</a> </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab6cb1c78b2970dd077b962b5cd7cde73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a> MapCoord::BoundsOffset::isZero </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if both x and y are equal to zero. </p>

</div>
</div>
<a class="anchor" id="afde4538406ee7bf285b01aa5469933a0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MapCoord::BoundsOffset::reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a>&#160;</td>
          <td class="paramname"><em>check_for_offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets x and y to zero, and sets check_for_offset. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ab5e7e7d0d08828577f6fad567440665a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a0ecf26b576b9a54eca656b9be7ba6a06">bool</a> MapCoord::BoundsOffset::check_for_offset = false</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0bfd9a2946f40bad3331af780fcb8e81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qint64 MapCoord::BoundsOffset::x = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a01706e156cb4198d8e6bee38033011e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qint64 MapCoord::BoundsOffset::y = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/core/<a class="el" href="map__coord_8h.html">map_coord.h</a> (<a href="https://github.com/OpenOrienteering/mapper/blob/67ba1be/src/core/map_coord.h"><tt>67ba1be</tt></a> on 20 Dec 2015)</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
