<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Mapper: src/libocad/types.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="openorienteering.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mapper
   &#160;<span id="projectnumber">0.8.0</span>
   </div>
   <div id="projectbrief">API documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_4cfd1ffdf2fee63e52053c509bce50ff.html">libocad</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">types.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<h3 class="version">(<a href="https://github.com/OpenOrienteering/mapper/blob/f662771/src/libocad/types.c"><tt>f662771</tt></a> on 7 Mar 2013)</h3><div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="libocad_8h.html">libocad.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for types.c:</div>
<div class="dyncontent">
<div class="center"><img src="types_8c__incl.png" border="0" usemap="#src_2libocad_2types_8c" alt=""/></div>
<map name="src_2libocad_2types_8c" id="src_2libocad_2types_8c">
<area shape="rect" id="node4" href="libocad_8h.html" title="libocad.h" alt="" coords="184,80,259,107"/>
<area shape="rect" id="node6" href="types_8h.html" title="types.h" alt="" coords="223,229,289,256"/>
<area shape="rect" id="node8" href="array_8h.html" title="array.h" alt="" coords="225,155,287,181"/>
<area shape="rect" id="node9" href="geometry_8h.html" title="geometry.h" alt="" coords="311,155,398,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad501cf7e5089cdba8b130afdb112d64c"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="types_8c.html#ad501cf7e5089cdba8b130afdb112d64c">my_strdup</a> (const char *s)</td></tr>
<tr class="separator:ad501cf7e5089cdba8b130afdb112d64c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d0f2afe26bf02570cab870c25a542ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="types_8c.html#a8d0f2afe26bf02570cab870c25a542ed">my_round</a> (double x)</td></tr>
<tr class="separator:a8d0f2afe26bf02570cab870c25a542ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67da96ff1b9d579e873509475c9404f8"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="types_8h.html#ae9b1af5c037e57a98884758875d3a7c4">s32</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="types_8c.html#a67da96ff1b9d579e873509475c9404f8">ocad_point</a> (<a class="el" href="types_8h.html#ae9b1af5c037e57a98884758875d3a7c4">s32</a> *buf, const OCADPoint *pt)</td></tr>
<tr class="memdesc:a67da96ff1b9d579e873509475c9404f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an OCAD point into a triplet of signed integers.  <a href="#a67da96ff1b9d579e873509475c9404f8">More...</a><br /></td></tr>
<tr class="separator:a67da96ff1b9d579e873509475c9404f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7ce45ab098ebad6d56f98059db0b088"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="types_8h.html#ae9b1af5c037e57a98884758875d3a7c4">s32</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="types_8c.html#aa7ce45ab098ebad6d56f98059db0b088">ocad_point2</a> (<a class="el" href="types_8h.html#ae9b1af5c037e57a98884758875d3a7c4">s32</a> **pbuf, const OCADPoint *pt)</td></tr>
<tr class="memdesc:aa7ce45ab098ebad6d56f98059db0b088"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an OCAD point into a triplet of signed integers like <a class="el" href="libocad_8h.html#a67da96ff1b9d579e873509475c9404f8" title="Converts an OCAD point into a triplet of signed integers. ">ocad_point()</a>, but advances the buffer pointer by three elements.  <a href="#aa7ce45ab098ebad6d56f98059db0b088">More...</a><br /></td></tr>
<tr class="separator:aa7ce45ab098ebad6d56f98059db0b088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31ffc0f1ca799bf80c8e977008cc9765"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="types_8c.html#a31ffc0f1ca799bf80c8e977008cc9765">ocad_str</a> (char *buf, const <a class="el" href="libocad_8h.html#abf41691f50dd33bc178b7c1829b7d048">str</a> *ostr)</td></tr>
<tr class="memdesc:a31ffc0f1ca799bf80c8e977008cc9765"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an OCAD string (0-255 characters) to a zero-terminated string in the given buffer.  <a href="#a31ffc0f1ca799bf80c8e977008cc9765">More...</a><br /></td></tr>
<tr class="separator:a31ffc0f1ca799bf80c8e977008cc9765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa70fa0c7145655007787d19cb15b79"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="types_8c.html#aaaa70fa0c7145655007787d19cb15b79">ocad_str2</a> (char **pbuf, const <a class="el" href="libocad_8h.html#abf41691f50dd33bc178b7c1829b7d048">str</a> *ostr)</td></tr>
<tr class="memdesc:aaaa70fa0c7145655007787d19cb15b79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an OCAD string (0-255 characters) to a zero-terminated string in the given buffer, returns a pointer to the zero-terminated string, and advances the buffer point just beyond the zero byte.  <a href="#aaaa70fa0c7145655007787d19cb15b79">More...</a><br /></td></tr>
<tr class="separator:aaaa70fa0c7145655007787d19cb15b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0aa2a94d5249300640569e6391f7b8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="types_8c.html#ad0aa2a94d5249300640569e6391f7b8a">ocad_to_real</a> (<a class="el" href="types_8h.html#ae9b1af5c037e57a98884758875d3a7c4">s32</a> *from, double *to, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> count)</td></tr>
<tr class="separator:ad0aa2a94d5249300640569e6391f7b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0951613160addface5c48d444338a878"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="types_8c.html#a0951613160addface5c48d444338a878">dump_bytes</a> (<a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *base, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> size)</td></tr>
<tr class="separator:a0951613160addface5c48d444338a878"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0951613160addface5c48d444338a878"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dump_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8d0f2afe26bf02570cab870c25a542ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int my_round </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad501cf7e5089cdba8b130afdb112d64c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* my_strdup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a67da96ff1b9d579e873509475c9404f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="types_8h.html#ae9b1af5c037e57a98884758875d3a7c4">s32</a>* ocad_point </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#ae9b1af5c037e57a98884758875d3a7c4">s32</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const OCADPoint *&#160;</td>
          <td class="paramname"><em>pt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts an OCAD point into a triplet of signed integers. </p>
<p>The first value is the x-coordinate, second is the y-coordinate, and the third is a set of flags. The buffer should have at least three elements (3 * sizeof(s32)), or 12 bytes. A pointer to the beginning of the buffer is returned. </p>

</div>
</div>
<a class="anchor" id="aa7ce45ab098ebad6d56f98059db0b088"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="types_8h.html#ae9b1af5c037e57a98884758875d3a7c4">s32</a>* ocad_point2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#ae9b1af5c037e57a98884758875d3a7c4">s32</a> **&#160;</td>
          <td class="paramname"><em>pbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const OCADPoint *&#160;</td>
          <td class="paramname"><em>pt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts an OCAD point into a triplet of signed integers like <a class="el" href="libocad_8h.html#a67da96ff1b9d579e873509475c9404f8" title="Converts an OCAD point into a triplet of signed integers. ">ocad_point()</a>, but advances the buffer pointer by three elements. </p>
<p>This allows the caller to accumulate a list of points in a single buffer. </p>

</div>
</div>
<a class="anchor" id="a31ffc0f1ca799bf80c8e977008cc9765"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ocad_str </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libocad_8h.html#abf41691f50dd33bc178b7c1829b7d048">str</a> *&#160;</td>
          <td class="paramname"><em>ostr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts an OCAD string (0-255 characters) to a zero-terminated string in the given buffer. </p>
<p>The buffer must be at least 256 bytes long. A pointer to the zero-terminated string is returned. </p>

</div>
</div>
<a class="anchor" id="aaaa70fa0c7145655007787d19cb15b79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ocad_str2 </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libocad_8h.html#abf41691f50dd33bc178b7c1829b7d048">str</a> *&#160;</td>
          <td class="paramname"><em>ostr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts an OCAD string (0-255 characters) to a zero-terminated string in the given buffer, returns a pointer to the zero-terminated string, and advances the buffer point just beyond the zero byte. </p>
<p>Subsequent calls to this function can be made to build up a list of zero- terminated strings. This is useful, for example, in printf statements.</p>
<div class="fragment"><div class="line"><span class="keywordtype">char</span> tmp[512], *ptmp = &amp;tmp;</div><div class="line">printf(<span class="stringliteral">&quot;%s %s&quot;</span>, <a class="code" href="libocad_8h.html#aa637300f1461b84429e743ed3e19dac5">ocad_str2</a>(&amp;ptmp, str1), <a class="code" href="libocad_8h.html#aa637300f1461b84429e743ed3e19dac5">ocad_str2</a>(&amp;ptmp, str2));</div></div><!-- fragment --><p>Both OCAD strings will be appended to the buffer and separate pointers will be passed to printf. Note that the buffer size must be at least 256 times the number of strings to be converted before ptmp is reset, to prevent the potential for buffer overflow. </p>

</div>
</div>
<a class="anchor" id="ad0aa2a94d5249300640569e6391f7b8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ocad_to_real </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#ae9b1af5c037e57a98884758875d3a7c4">s32</a> *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
